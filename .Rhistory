lines(out[,"cycle"], col = "steelblue")
library(mFilter)
library(quantmod)
getSymbols('GDP',src='FRED')
hpf <- hpfilter(log(GDP),freq = 1600)
out <- xts(cbind(hpf$x, hpf$trend, hpf$cycle), index(GDP))
colnames(out) <- c("x", "trend", "cycle")
par(mfrow = c(2, 1), mar = c(3, 2, 2, 1))
plot(out[,"x"], t= "n", main = paste(hpf$title, "of", hpf$xname))
lines(out[,"x"], col = "steelblue")
lines(out[,"trend"], col = "red")
legend("topleft", legend = c(hpf$xname, "trend"), col = c("steelblue", "red"), lty = rep(1, 2), ncol = 2)
plot(out[,"cycle"], t = "n", main = "Cyclical component (deviations from trend)")
lines(out[,"cycle"], col = "steelblue")
library(mFilter)
library(quantmod)
getSymbols('GDPC1',src='FRED')
hpf <- hpfilter(log(GDP),freq = 1600)
install.packages(mFilter)
install.packages(mFilter)
install.packages('mFilter')
install.packages('quantmod')
library(mFilter)
library(quantmod)
getSymbols('GDPC1',src='FRED')
hpf <- hpfilter(log(GDPC1),freq = 1600)
out <- xts(cbind(hpf$x, hpf$trend, hpf$cycle), index(GDP))
colnames(out) <- c("x", "trend", "cycle")
par(mfrow = c(2, 1), mar = c(3, 2, 2, 1))
plot(out[,"x"], t= "n", main = paste(hpf$title, "of", hpf$xname))
lines(out[,"x"], col = "steelblue")
lines(out[,"trend"], col = "red")
legend("topleft", legend = c(hpf$xname, "trend"), col = c("steelblue", "red"), lty = rep(1, 2), ncol = 2)
plot(out[,"cycle"], t = "n", main = "Cyclical component (deviations from trend)")
lines(out[,"cycle"], col = "steelblue")
getSymbols('GDPC1',src='FRED')
hpf <- hpfilter(log(GDPC1),freq = 1600)
out <- xts(cbind(hpf$x, hpf$trend, hpf$cycle), index(GDPC1))
colnames(out) <- c("x", "trend", "cycle")
par(mfrow = c(2, 1), mar = c(3, 2, 2, 1))
plot(out[,"x"], t= "n", main = paste(hpf$title, "of", hpf$xname))
lines(out[,"x"], col = "steelblue")
lines(out[,"trend"], col = "red")
legend("topleft", legend = c(hpf$xname, "trend"), col = c("steelblue", "red"), lty = rep(1, 2), ncol = 2)
plot(out[,"cycle"], t = "n", main = "Cyclical component (deviations from trend)")
lines(out[,"cycle"], col = "steelblue")
GDPC1
colnames(GDPC1)
subset(GDPC1,as.Date("2000-01-01")>DATE1))
subset(GDPC1,as.Date("2000-01-01")>DATE1)
subset(GDPC1,as.Date("2000-01-01")>DATE)
colnames(GDPC1)<-c('Date','GDP')
colnames(GDPC1)<-c("Date","GDP")
colnames(GDPC1) <- c("Date","GDP")
class(GDPC1)
typeof(GDPC1)
str(GDPC1)
str(out)
out
require(Quandl)
GDPC1 = Quandl("FRED/GDPC1", start_date="2000-01-01",end_date="2016-12-31",type="xts")
install.packages("Quandl")
require(Quandl)
GDPC1 = Quandl("FRED/GDPC1", start_date="2000-01-01",end_date="2016-12-31",type="xts")
library(mFilter)
library(quantmod)
require(Quandl)
GDPC1 = Quandl("FRED/GDPC1", start_date="2000-01-01",end_date="2016-12-31",type="xts")
hpf <- hpfilter(log(GDPC1),freq = 1600)
out <- xts(cbind(hpf$x, hpf$trend, hpf$cycle), index(GDPC1))
colnames(out) <- c("x", "trend", "cycle")
par(mfrow = c(2, 1), mar = c(3, 2, 2, 1))
plot(out[,"x"], t= "n", main = paste(hpf$title, "of", hpf$xname))
lines(out[,"x"], col = "steelblue")
lines(out[,"trend"], col = "red")
legend("topleft", legend = c(hpf$xname, "trend"), col = c("steelblue", "red"), lty = rep(1, 2), ncol = 2)
plot(out[,"cycle"], t = "n", main = "Cyclical component (deviations from trend)")
lines(out[,"cycle"], col = "steelblue")
library(mFilter)
library(quantmod)
getSymbols('GDPC1',src='FRED')
GDP <- data$GDPC1
GDP[paste(date.start= "2000-1-01",date.end="2016-12-31",sep="/")]
hpf <- hpfilter(log(GDP),freq = 1600)
library(mFilter)
library(quantmod)
getSymbols('GDPC1',src='FRED')
GDPC1[paste(date.start= "2000-1-01",date.end="2016-12-31",sep="/")]
hpf <- hpfilter(log(GDPC1),freq = 1600)
out <- xts(cbind(hpf$x, hpf$trend, hpf$cycle), index(GDPC1))
colnames(out) <- c("x", "trend", "cycle")
par(mfrow = c(2, 1), mar = c(3, 2, 2, 1))
plot(out[,"x"], t= "n", main = paste(hpf$title, "of", hpf$xname))
lines(out[,"x"], col = "steelblue")
lines(out[,"trend"], col = "red")
legend("topleft", legend = c(hpf$xname, "trend"), col = c("steelblue", "red"), lty = rep(1, 2), ncol = 2)
plot(out[,"cycle"], t = "n", main = "Cyclical component (deviations from trend)")
lines(out[,"cycle"], col = "steelblue")
format(GDPC1, format = "%Y/0%q")
getSymbols('GDPC1',src='FRED')
GDPC1[paste(date.start= "2000-1-01",date.end="2016-12-31",sep="/")]
is.data.frame(GDPC1)
is.vector(GDPC1)
is.numeric(GDPC1)
is.data.frame(out)
is.numeric(out)
?axis
out
gdpdata <- data.frame(col = rep(colnames(out), each = nrow(out)),
row = rep(rownames(out), ncol(out)),
value = as.vector(out))
data.frame(col = rep(colnames(out), each = nrow(out)),
+            row = rep(rownames(out), ncol(out)),
+            value = as.vector(out))
data.frame(col = rep(colnames(out), each = nrow(out)), row = rep(rownames(out), ncol(out)), value = as.vector(out))
mydata = Quandl("FRED/GDP", collapse="annual")
mydata
mydata = Quandl("FRED/GDP", collapse="quarterly")
mydata
GDPC1 = Quandl("FRED/GDPC1", collapse="quarterly", start_date="2000-1-01", end_date="2016-12-31")
GDPC1
GDP = Quandl("FRED/GDPC1", collapse="quarterly", start_date="2000-1-01", end_date="2016-12-31")
hpf <- hpfilter(log(GDP$GDPC1),freq = 1600)
out <- cbind(hpf$x, hpf$trend, hpf$cycle)
out
out <- cbind(GDP,hpf$x, hpf$trend, hpf$cycle)
out
format(GDP$DATE, format = "%Y/0%q")
format(GDP$DATE, format = "%Y/%q")
as.yearqtr(GDP$DATE, format = "%Y/%q")
GDP
GDP
as.yearqtr(GDP$DATE, format = "%Y/%q")
out$Date <-as.yearqtr(out$DATE, format = "%Y/%q")
out
out$DATE <-as.yearqtr(out$DATE, format = "%Y/%q")
out
GDP = Quandl("FRED/GDPC1", collapse="quarterly", start_date="2000-1-01", end_date="2016-12-31")
hpf <- hpfilter(log(GDP$GDPC1),freq = 1600)
out <- cbind(GDP,hpf$x, hpf$trend, hpf$cycle)
colnames(out) <- c("x", "trend", "cycle")
out$DATE <-as.yearqtr(out$DATE, format = "%Y/%q")
par(mfrow = c(2, 1), mar = c(3, 2, 2, 1))
plot(out[,"x"],"date", t= "n", main = paste(hpf$title, "of", hpf$xname))
lines(out[,"x"], col = "steelblue")
lines(out[,"trend"], col = "red")
legend("topleft", legend = c(hpf$xname, "trend"), col = c("steelblue", "red"), lty = rep(1, 2), ncol = 2)
plot(out[,"cycle"], t = "n", main = "Cyclical component (deviations from trend)")
lines(out[,"cycle"], col = "steelblue")
GDP = Quandl("FRED/GDPC1", collapse="quarterly", start_date="2000-1-01", end_date="2016-12-31")
hpf <- hpfilter(log(GDP$GDPC1),freq = 1600)
out <- cbind(GDP,hpf$x, hpf$trend, hpf$cycle)
colnames(out) <- c("DATE","GDPC1","x", "trend", "cycle")
out$DATE <-as.yearqtr(out$DATE, format = "%Y/%q")
out
par(mfrow = c(2, 1), mar = c(3, 2, 2, 1))
plot(out[,"x"],"date", t= "n", main = paste(hpf$title, "of", hpf$xname))
lines(out[,"x"], col = "steelblue")
lines(out[,"trend"], col = "red")
plot(out$x,out$DATE, t= "n", main = paste(hpf$title, "of", hpf$xname))
plot(out$DATE,out$x, t= "n", main = paste(hpf$title, "of", hpf$xname))
lines(out$x, col = "steelblue")
lines(out$trend, col = "red")
par(mfrow = c(2, 1), mar = c(3, 2, 2, 1))
plot(out$DATE,out$x, t= "n", main = paste(hpf$title, "of", hpf$xname))
lines(out$x, col = "steelblue")
lines(out$trend, col = "red")
legend("topleft", legend = c(hpf$xname, "trend"), col = c("steelblue", "red"), lty = rep(1, 2), ncol = 2)
GDP = Quandl("FRED/GDPC1", collapse="quarterly", start_date="2000-1-01", end_date="2016-12-31")
hpf <- hpfilter(log(GDP$GDPC1),freq = 1600)
out <- cbind(GDP,hpf$x, hpf$trend, hpf$cycle)
colnames(out) <- c("DATE","GDPC1","x", "trend", "cycle")
out$DATE <-as.yearqtr(out$DATE, format = "%Y/%q")
par(mfrow = c(2, 1), mar = c(3, 2, 2, 1))
plot(out$DATE,out$x, t= "n", main = paste(hpf$title, "of", hpf$xname))
lines(out$x, col = "steelblue")
lines(out$trend, col = "red")
legend("topleft", legend = c(hpf$xname, "trend"), col = c("steelblue", "red"), lty = rep(1, 2), ncol = 2)
plot(out[,"cycle"], t = "n", main = "Cyclical component (deviations from trend)")
lines(out[,"cycle"], col = "steelblue")
lines(out$DATE,out$x, col = "steelblue")
lines(out$DATE,out$trend, col = "red")
plot(out$DATE,out$x, t= "n", main = paste(hpf$title, "of", hpf$xname))
lines(out$DATE,out$x, col = "steelblue")
lines(out$DATE,out$trend, col = "red")
library(mFilter)
library(quantmod)
library(Quandl)
GDP = Quandl("FRED/GDPC1", collapse="quarterly", start_date="2000-1-01", end_date="2016-12-31")
hpf <- hpfilter(log(GDP$GDPC1),freq = 1600)
out <- cbind(GDP,hpf$x, hpf$trend, hpf$cycle)
colnames(out) <- c("DATE","GDPC1","x", "trend", "cycle")
out$DATE <-as.yearqtr(out$DATE, format = "%Y/%q")
par(mfrow = c(2, 1), mar = c(3, 2, 2, 1))
plot(out$DATE,out$x, t= "n", main = paste(hpf$title, "of", hpf$xname))
lines(out$DATE,out$x, col = "steelblue")
lines(out$DATE,out$trend, col = "red")
legend("topleft", legend = c(hpf$xname, "trend"), col = c("steelblue", "red"), lty = rep(1, 2), ncol = 2)
plot(out[,"cycle"], t = "n", main = "Cyclical component (deviations from trend)")
lines(out[,"cycle"], col = "steelblue")
library(mFilter)
library(quantmod)
library(Quandl)
GDP = Quandl("FRED/GDPC1", collapse="quarterly", start_date="2000-1-01", end_date="2016-12-31")
hpf <- hpfilter(log(GDP$GDPC1),freq = 1600)
out <- cbind(GDP,hpf$x, hpf$trend, hpf$cycle)
colnames(out) <- c("DATE","GDPC1","x", "trend", "cycle")
out$DATE <-as.yearqtr(out$DATE, format = "%Y/%q")
par(mfrow = c(2, 1), mar = c(3, 2, 2, 1))
plot(out$DATE,out$x, t= "n", main = paste(hpf$title, "of", hpf$xname))
lines(out$DATE,out$x, col = "steelblue")
lines(out$DATE,out$trend, col = "red")
legend("topleft", legend = c(hpf$xname, "trend"), col = c("steelblue", "red"), lty = rep(1, 2), ncol = 2)
plot(out[,"cycle"], t = "n", main = "Cyclical component (deviations from trend) of GDP")
lines(out[,"cycle"], col = "steelblue")
Retail = Quandl("FRED/RSXFS", collapse="quarterly", start_date="2000-1-01", end_date="2016-12-31")
hpf <- hpfilter(log(Retail$RSXFS),freq = 1600)
out <- cbind(Retail,hpf$x, hpf$trend, hpf$cycle)
colnames(out) <- c("DATE","RSXFS","x", "trend", "cycle")
out$DATE <-as.yearqtr(out$DATE, format = "%Y/%q")
par(mfrow = c(2, 1), mar = c(3, 2, 2, 1))
plot(out$DATE,out$x, t= "n", main = paste(hpf$title, "of", hpf$xname))
lines(out$DATE,out$x, col = "steelblue")
lines(out$DATE,out$trend, col = "red")
legend("topleft", legend = c(hpf$xname, "trend"), col = c("steelblue", "red"), lty = rep(1, 2), ncol = 2)
plot(out[,"cycle"], t = "n", main = "Cyclical component (deviations from trend) of Retail")
lines(out[,"cycle"], col = "steelblue")
ECOM = Quandl("FRED/ECOMSA", collapse="quarterly", start_date="2000-1-01", end_date="2016-12-31")
hpf <- hpfilter(log(ECOM$ECOMSA),freq = 1600)
out <- cbind(ECOM,hpf$x, hpf$trend, hpf$cycle)
colnames(out) <- c("DATE","ECOMSA","x", "trend", "cycle")
out$DATE <-as.yearqtr(out$DATE, format = "%Y/%q")
par(mfrow = c(2, 1), mar = c(3, 2, 2, 1))
plot(out$DATE,out$x, t= "n", main = paste(hpf$title, "of", hpf$xname))
lines(out$DATE,out$x, col = "steelblue")
lines(out$DATE,out$trend, col = "red")
legend("topleft", legend = c(hpf$xname, "trend"), col = c("steelblue", "red"), lty = rep(1, 2), ncol = 2)
plot(out[,"cycle"], t = "n", main = "Cyclical component (deviations from trend) of Retail")
lines(out[,"cycle"], col = "steelblue")
ecom
ECOM
ECOM = Quandl("FRED/ECOMSA", collapse="quarterly", start_date="2000-1-01", end_date="2016-12-31")
hpf <- hpfilter(log(ECOM$VALUE),freq = 1600)
out <- cbind(ECOM,hpf$x, hpf$trend, hpf$cycle)
colnames(out) <- c("DATE","ECOMSA","x", "trend", "cycle")
out$DATE <-as.yearqtr(out$DATE, format = "%Y/%q")
par(mfrow = c(2, 1), mar = c(3, 2, 2, 1))
plot(out$DATE,out$x, t= "n", main = paste(hpf$title, "of", hpf$xname))
lines(out$DATE,out$x, col = "steelblue")
lines(out$DATE,out$trend, col = "red")
legend("topleft", legend = c(hpf$xname, "trend"), col = c("steelblue", "red"), lty = rep(1, 2), ncol = 2)
plot(out[,"cycle"], t = "n", main = "Cyclical component (deviations from trend) of Retail")
lines(out[,"cycle"], col = "steelblue")
ECOM = Quandl("FRED/ECOMSA", collapse="quarterly", start_date="2000-1-01", end_date="2016-12-31")
hpf <- hpfilter(log(ECOM$VALUE),freq = 1600)
out <- cbind(ECOM,hpf$x, hpf$trend, hpf$cycle)
colnames(out) <- c("DATE","ECOMSA","x", "trend", "cycle")
out$DATE <-as.yearqtr(out$DATE, format = "%Y/%q")
par(mfrow = c(2, 1), mar = c(3, 2, 2, 1))
plot(out$DATE,out$x, t= "n", main = paste(hpf$title, "of", hpf$xname))
lines(out$DATE,out$x, col = "steelblue")
lines(out$DATE,out$trend, col = "red")
legend("topleft", legend = c(hpf$xname, "trend"), col = c("steelblue", "red"), lty = rep(1, 2), ncol = 2)
plot(out[,"cycle"], t = "n", main = "Cyclical component (deviations from trend) of Ecommerce")
lines(out[,"cycle"], col = "steelblue")
ar(mfrow = c(2, 1), mar = c(3, 2, 2, 1))
plot(out$DATE,out$x, t= "n", main = paste(hpf$title, "of", hpf$xname))
lines(out$DATE,out$x, col = "steelblue")
lines(out$DATE,out$trend, col = "red")
legend("topleft", legend = c(hpf$xname, "trend"), col = c("steelblue", "red"), lty = rep(1, 2), ncol = 2)
plot(out$DATE,out$cycle, t = "n", main = "Cyclical component (deviations from trend) of Ecommerce")
lines(out$DATE,out$cycle, col = "steelblue")
library(mFilter)
library(quantmod)
library(Quandl)
GDP = Quandl("FRED/GDPC1", collapse="quarterly", start_date="2000-1-01", end_date="2016-12-31")
hpf <- hpfilter(log(GDP$GDPC1),freq = 1600)
out <- cbind(GDP,hpf$x, hpf$trend, hpf$cycle)
colnames(out) <- c("DATE","GDPC1","x", "trend", "cycle")
out$DATE <-as.yearqtr(out$DATE, format = "%Y/%q")
par(mfrow = c(2, 1), mar = c(3, 2, 2, 1))
plot(out$DATE,out$x, t= "n", main = paste(hpf$title, "of", hpf$xname))
lines(out$DATE,out$x, col = "steelblue")
lines(out$DATE,out$trend, col = "red")
legend("topleft", legend = c(hpf$xname, "trend"), col = c("steelblue", "red"), lty = rep(1, 2), ncol = 2)
plot(out[,"cycle"], t = "n", main = "Cyclical component (deviations from trend) of GDP")
lines(out[,"cycle"], col = "steelblue")
Retail = Quandl("FRED/RSXFS", collapse="quarterly", start_date="2000-1-01", end_date="2016-12-31")
hpf <- hpfilter(log(Retail$RSXFS),freq = 1600)
out <- cbind(Retail,hpf$x, hpf$trend, hpf$cycle)
colnames(out) <- c("DATE","RSXFS","x", "trend", "cycle")
out$DATE <-as.yearqtr(out$DATE, format = "%Y/%q")
par(mfrow = c(2, 1), mar = c(3, 2, 2, 1))
plot(out$DATE,out$x, t= "n", main = paste(hpf$title, "of", hpf$xname))
lines(out$DATE,out$x, col = "steelblue")
lines(out$DATE,out$trend, col = "red")
legend("topleft", legend = c(hpf$xname, "trend"), col = c("steelblue", "red"), lty = rep(1, 2), ncol = 2)
plot(out[,"cycle"], t = "n", main = "Cyclical component (deviations from trend) of Retail")
lines(out[,"cycle"], col = "steelblue")
ECOM = Quandl("FRED/ECOMSA", collapse="quarterly", start_date="2000-1-01", end_date="2016-12-31")
hpf <- hpfilter(log(ECOM$VALUE),freq = 1600)
out <- cbind(ECOM,hpf$x, hpf$trend, hpf$cycle)
colnames(out) <- c("DATE","ECOMSA","x", "trend", "cycle")
out$DATE <-as.yearqtr(out$DATE, format = "%Y/%q")
par(mfrow = c(2, 1), mar = c(3, 2, 2, 1))
plot(out$DATE,out$x, t= "n", main = paste(hpf$title, "of", hpf$xname))
lines(out$DATE,out$x, col = "steelblue")
lines(out$DATE,out$trend, col = "red")
legend("topleft", legend = c(hpf$xname, "trend"), col = c("steelblue", "red"), lty = rep(1, 2), ncol = 2)
plot(out$DATE,out$cycle, t = "n", main = "Cyclical component (deviations from trend) of Ecommerce")
lines(out$DATE,out$cycle, col = "steelblue")
library(mFilter)
library(quantmod)
library(Quandl)
GDP = Quandl("FRED/GDPC1", collapse="quarterly", start_date="2000-1-01", end_date="2016-12-31")
hpf <- hpfilter(log(GDP$GDPC1),freq = 1600)
out <- cbind(GDP,hpf$x, hpf$trend, hpf$cycle)
colnames(out) <- c("DATE","GDPC1","x", "trend", "cycle")
out$DATE <-as.yearqtr(out$DATE, format = "%Y/%q")
par(mfrow = c(2, 1), mar = c(3, 2, 2, 1))
plot(out$DATE,out$x, t= "n", main = paste(hpf$title, "of", hpf$xname))
lines(out$DATE,out$x, col = "steelblue")
lines(out$DATE,out$trend, col = "red")
legend("topleft", legend = c(hpf$xname, "trend"), col = c("steelblue", "red"), lty = rep(1, 2), ncol = 2)
plot(out[,"cycle"], t = "n", main = "Cyclical component (deviations from trend) of GDP")
lines(out[,"cycle"], col = "steelblue")
GDPCycle <- out$cycle
Retail = Quandl("FRED/RSXFS", collapse="quarterly", start_date="2000-1-01", end_date="2016-12-31")
hpf <- hpfilter(log(Retail$RSXFS),freq = 1600)
out <- cbind(Retail,hpf$x, hpf$trend, hpf$cycle)
colnames(out) <- c("DATE","RSXFS","x", "trend", "cycle")
out$DATE <-as.yearqtr(out$DATE, format = "%Y/%q")
par(mfrow = c(2, 1), mar = c(3, 2, 2, 1))
plot(out$DATE,out$x, t= "n", main = paste(hpf$title, "of", hpf$xname))
lines(out$DATE,out$x, col = "steelblue")
lines(out$DATE,out$trend, col = "red")
legend("topleft", legend = c(hpf$xname, "trend"), col = c("steelblue", "red"), lty = rep(1, 2), ncol = 2)
plot(out[,"cycle"], t = "n", main = "Cyclical component (deviations from trend) of Retail")
lines(out[,"cycle"], col = "steelblue")
RetailCycle <- out$cycle
ECOM = Quandl("FRED/ECOMSA", collapse="quarterly", start_date="2000-1-01", end_date="2016-12-31")
hpf <- hpfilter(log(ECOM$VALUE),freq = 1600)
out <- cbind(ECOM,hpf$x, hpf$trend, hpf$cycle)
colnames(out) <- c("DATE","ECOMSA","x", "trend", "cycle")
out$DATE <-as.yearqtr(out$DATE, format = "%Y/%q")
par(mfrow = c(2, 1), mar = c(3, 2, 2, 1))
plot(out$DATE,out$x, t= "n", main = paste(hpf$title, "of", hpf$xname))
lines(out$DATE,out$x, col = "steelblue")
lines(out$DATE,out$trend, col = "red")
legend("topleft", legend = c(hpf$xname, "trend"), col = c("steelblue", "red"), lty = rep(1, 2), ncol = 2)
plot(out$DATE,out$cycle, t = "n", main = "Cyclical component (deviations from trend) of Ecommerce")
lines(out$DATE,out$cycle, col = "steelblue")
EcommerceCycle <- out$cycle
EcommerceCycle
cor(EcommerceCycle,GDPCycle)
cor(RetailCycle,GDPCycle)
var(EcommerceCycle)
var(RetailCycle)
library(mFilter)
library(quantmod)
library(Quandl)
GDP = Quandl("FRED/GDPC1", collapse="quarterly", start_date="2000-1-01", end_date="2016-12-31")
hpf <- hpfilter(log(GDP$GDPC1),freq = 1600)
out <- cbind(GDP,hpf$x, hpf$trend, hpf$cycle)
colnames(out) <- c("DATE","GDPC1","x", "trend", "cycle")
out$DATE <-as.yearqtr(out$DATE, format = "%Y/%q")
par(mfrow = c(2, 1), mar = c(3, 2, 2, 1))
plot(out$DATE,out$x, t= "n", main = paste(hpf$title, "of", hpf$xname))
lines(out$DATE,out$x, col = "steelblue")
lines(out$DATE,out$trend, col = "red")
legend("topleft", legend = c(hpf$xname, "trend"), col = c("steelblue", "red"), lty = rep(1, 2), ncol = 2)
plot(out$DATE,out$cycle, t = "n", main = "Cyclical component (deviations from trend) of GDP")
lines(out$DATE,out$cycle,col = "steelblue")
GDPCycle <- out$cycle
Retail = Quandl("FRED/RSXFS", collapse="quarterly", start_date="2000-1-01", end_date="2016-12-31")
hpf <- hpfilter(log(Retail$RSXFS),freq = 1600)
out <- cbind(Retail,hpf$x, hpf$trend, hpf$cycle)
colnames(out) <- c("DATE","RSXFS","x", "trend", "cycle")
out$DATE <-as.yearqtr(out$DATE, format = "%Y/%q")
par(mfrow = c(2, 1), mar = c(3, 2, 2, 1))
plot(out$DATE,out$x, t= "n", main = paste(hpf$title, "of", hpf$xname))
lines(out$DATE,out$x, col = "steelblue")
lines(out$DATE,out$trend, col = "red")
legend("topleft", legend = c(hpf$xname, "trend"), col = c("steelblue", "red"), lty = rep(1, 2), ncol = 2)
plot(out$DATE,out$cycle, t = "n", main = "Cyclical component (deviations from trend) of Retail")
lines(out$DATE,out$cycle, col = "steelblue")
RetailCycle <- out$cycle
ECOM = Quandl("FRED/ECOMSA", collapse="quarterly", start_date="2000-1-01", end_date="2016-12-31")
hpf <- hpfilter(log(ECOM$VALUE),freq = 1600)
out <- cbind(ECOM,hpf$x, hpf$trend, hpf$cycle)
colnames(out) <- c("DATE","ECOMSA","x", "trend", "cycle")
out$DATE <-as.yearqtr(out$DATE, format = "%Y/%q")
par(mfrow = c(2, 1), mar = c(3, 2, 2, 1))
plot(out$DATE,out$x, t= "n", main = paste(hpf$title, "of", hpf$xname))
lines(out$DATE,out$x, col = "steelblue")
lines(out$DATE,out$trend, col = "red")
legend("topleft", legend = c(hpf$xname, "trend"), col = c("steelblue", "red"), lty = rep(1, 2), ncol = 2)
plot(out$DATE,out$cycle, t = "n", main = "Cyclical component (deviations from trend) of Ecommerce")
lines(out$DATE,out$cycle, col = "steelblue")
EcommerceCycle <- out$cycle
setwd("~/Dropbox/Coursera/R Programming/data cleaning/R-data-cleaning")
download.file("https://d396qusza40orc.cloudfront.net/getdata%2Fdata%2Fss06hid.csv", destfile ="microdata.csv")
data=data.table(read.csv("microdata.csv"))
dataname = names(data)
library(data.table)
data=data.table(read.csv("microdata.csv"))
dataname = names(data)
dataname
datanamesplit = strsplit(dataname, "wgtp")
datanamesplit[123]
download.file("https://d396qusza40orc.cloudfront.net/getdata%2Fdata%2FGDP.csv", destfile ="gdp.csv")
gdpdata = data.table(read.csv("gdp.csv"))
gdpdata
gdpdata = data.table(read.csv("gdp.csv"))
gdpdata
gdpdata = data.table(read.csv("gdp.csv"))
gdpdata
gdpdata = data.table(read.csv("gdp.csv"))
gdpdata
sapply(gdpdata['gdp'],sub(",",""))
sub(",","",gdpdata['gdp'])
sapply(gdpdata,sub(",","",gdpdata['gdp']))
dtGDP= data.table(read.csv("gdp.csv"))
dtGDP <- dtGDP[X != ""]
dtGDP <- dtGDP[, list(X, X.1, X.3, X.4)]
setnames(dtGDP, c("X", "X.1", "X.3", "X.4"), c("CountryCode", "rankingGDP", "Long.Name", "gdp"))
gdp <- as.numeric(gsub(",", "", dtGDP$gdp))
download.file("https://d396qusza40orc.cloudfront.net/getdata%2Fdata%2FGDP.csv", destfile ="gdp.csv")
dtGDP <- data.table(read.csv("gdp.csv", skip = 4, nrows = 215, stringsAsFactors = FALSE))
dtGDP <- dtGDP[X != ""]
dtGDP <- dtGDP[, list(X, X.1, X.3, X.4)]
setnames(dtGDP, c("X", "X.1", "X.3", "X.4"), c("CountryCode", "rankingGDP", "Long.Name", "gdp"))
gdp <- as.numeric(gsub(",", "", dtGDP$gdp))
mean(gdp, na.rm = TRUE)
sum(grep("^United", countryNames))
sum(grep("^United", Long.Name))
sum(grep("^United", dtGDP("Long.Name")))
sum(grep("^United", dtGDP["Long.Name"]))
grep("^United", dtGDP["Long.Name"])
grep("^United", dtGDP$"Long.Name")
summary(grep("^United", dtGDP$"Long.Name"))
summary(grepl("^United", dtGDP$"Long.Name"))
